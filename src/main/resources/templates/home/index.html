<!DOCTYPE html>
<html lang="en">
	<div th:replace="~{layout/header :: header}"></div>
	<body id="kt_app_body" data-kt-app-header-fixed="true" data-kt-app-header-fixed-mobile="true" data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-push-header="true" data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" data-kt-app-aside-enabled="true" data-kt-app-aside-fixed="true" data-kt-app-aside-push-header="true" data-kt-app-aside-push-toolbar="true" data-kt-app-aside-push-footer="true" class="app-default">

	<script type="text/javascript" th:src="@{/script/switch-theme.js}"></script>
		<div class="d-flex flex-column flex-root app-root" id="kt_app_root">
			<div class="app-page flex-column flex-column-fluid" id="kt_app_page">
				<div th:replace="~{layout/navigation :: navigation}"></div>
				<div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
					<div th:replace="~{layout/hero :: hero}"></div>

					<div th:replace="~{layout/sidebar :: sidebar}"></div>

					<div class="app-main flex-column flex-row-fluid" id="kt_app_main">
						<div class="d-flex flex-column flex-column-fluid">
							<div id="kt_app_content" class="app-content flex-column-fluid">
								<div id="kt_app_content_container" class="app-container container-xxl">
									<!--begin::Accordion-->
									<div th:each="product : ${products}" class="accordion accordion-icon-toggle" th:id="'product' + ${product.id}">
										<!--begin::Item-->
										<div class="mb-5">
											<!--begin::Header-->
											<div class="accordion-header py-3 d-flex" data-bs-toggle="collapse" th:data-bs-target="'#product_product_' + ${product.id}">
												<span class="accordion-icon">
													<i class="ki-duotone ki-arrow-right fs-4"><span class="path1"></span><span class="path2"></span></i>
												</span>
												<h3 class="btn tags mb-0 ms-4"
													th:style="'background-color: ' + ${product.colorHex}">
													[[${product.name}]]
											</div>
											<!--end::Header-->

											<!--begin::Body-->
											<div th:id="'product_product_' + ${product.id}" class="fs-6 collapse show ps-10" th:data-bs-parent="'#product' + ${product.id}">
												<table class="table table-hover gy-2 mb-0">
													<thead class="d-none">
													<tr class="fw-bold text-gray-800 border-bottom border-gray-200">
														<th>#</th>
														<th>[[#{name}]]</th>
														<th>[[#{type}]]</th>
														<th>[[#{preview}]]</th>
													</tr>
													</thead>
													<tbody hx:get="@{/account/product/{id}(id=${product.id})}"
														   hx-trigger="load">

													</tbody>
												</table>
											</div>
											<!--end::Body-->
										</div>
										<!--end::Item-->
									</div>

									<!--end::Item-->




									</div>
									<!--end::Accordion-->

								</div>
							</div>
						</div>
						<div th:replace="~{layout/footer :: footer}"></div>

					</div>
					<div th:replace="~{layout/aside :: aside}"></div>
				</div>
			</div>
		</div>

		<!--begin::Scrolltop-->
		<div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
			<i class="ki-outline ki-arrow-up"></i>
		</div>
		<!--end::Scrolltop-->

	<div th:replace="~{layout/footer :: script}"></div>
	<div th:insert="~{components/fragments :: modal-placeholder}"></div>


	</body>
</html>